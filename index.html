<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EMOM Kettlebell 30 Min</title>

<style>
:root {
    --primary:#ff4757;
    --bg:#1e272e;
    --card:#2f3640;
    --text:#f1f2f6;
    --accent:#2ed573;
}

body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
    background:var(--bg);
    color:var(--text);
    display:flex;
    justify-content:center;
    min-height:100vh;
}

.container{
    width:100%;
    max-width:480px;
    padding:15px;
}

/* VIDEO */
.video-box{
    width:100%;
    background:black;
    border-radius:14px;
    overflow:hidden;
}

video{
    width:100%;
    height:240px;
    object-fit:cover;
}

/* INFO */
.exercise-card{
    background:var(--card);
    margin-top:12px;
    padding:15px;
    border-radius:16px;
}

.exercise-title{
    font-size:1.3rem;
    color:var(--accent);
    margin:0;
}

.reps{
    font-size:1.1rem;
    margin:6px 0;
    color:#feca57;
}

.exercise-desc{
    font-size:0.9rem;
    opacity:.85;
}

/* TIMER */
.timer{
    text-align:center;
    font-size:4rem;
    margin:15px 0;
}

/* CONTROLS */
.controls{
    display:flex;
    gap:10px;
}

button{
    flex:1;
    padding:14px;
    border:none;
    border-radius:30px;
    font-weight:bold;
    font-size:0.9rem;
}

.start{background:var(--accent);}
.pause{background:#f1c40f;}
.reset{background:var(--primary); color:white;}
.skip{background:#57606f; color:white;}

.next{
    margin-top:10px;
    font-size:.8rem;
    opacity:.7;
    text-align:center;
}
</style>
</head>

<body>
<div class="container">

<div class="video-box">
    <video id="video" playsinline preload="auto"></video>
</div>

<div class="exercise-card">
    <h2 class="exercise-title" id="exName">Preparado</h2>
    <div class="reps" id="reps">—</div>
    <div class="exercise-desc" id="exDesc"></div>
</div>

<div class="timer" id="timer">01:00</div>

<div class="controls">
    <button class="start" onclick="start()">Start</button>
    <button class="pause" onclick="pause()">Pause</button>
    <button class="reset" onclick="reset()">Reset</button>
    <button class="skip" onclick="skip()">Skip ⏭</button>
</div>

<div class="next">Siguiente: <span id="nextEx">-</span></div>

</div>

<script>
const exercises = [
 {name:"Russian Swing", reps:"20 reps", desc:"Swing ruso hasta el pecho.", video:"videos/russian_swing.mp4"},
 {name:"Alt Bent Rows", reps:"16 reps", desc:"Remo alterno.", video:"videos/alt_rows.mp4"},
 {name:"Goblet Lunges", reps:"20 reps", desc:"Zancadas con kettlebell.", video:"videos/goblet_lunges.mp4"},
 {name:"Goblet Press", reps:"16 reps", desc:"Press desde goblet.", video:"videos/goblet_press.mp4"},
 {name:"Sumo High Pulls", reps:"20 reps", desc:"Tirón alto sumo.", video:"videos/sumo_high_pull.mp4"},
 {name:"Alt Swings", reps:"20 reps", desc:"Swing alterno.", video:"videos/alt_swings.mp4"},
 {name:"Halos", reps:"10+10", desc:"Halos alrededor de la cabeza.", video:"videos/halos.mp4"},
 {name:"American Swings", reps:"20 reps", desc:"Swing sobre la cabeza.", video:"videos/american_swings.mp4"},
 {name:"Alt High Pulls", reps:"16 reps", desc:"High pull alterno.", video:"videos/alt_high_pull.mp4"},
 {name:"Descanso", reps:"Descanso", desc:"Respira y prepárate.", video:"videos/rest.mp4"}
];

let minute = 0;
let seconds = 60;
let interval = null;

const video = document.getElementById("video");
const exName = document.getElementById("exName");
const reps = document.getElementById("reps");
const exDesc = document.getElementById("exDesc");
const timer = document.getElementById("timer");
const nextEx = document.getElementById("nextEx");

function loadExercise(){
    const idx = minute % exercises.length;
    const ex = exercises[idx];
    const next = exercises[(idx+1)%exercises.length];

    exName.textContent = ex.name;
    reps.textContent = ex.reps;
    exDesc.textContent = ex.desc;
    nextEx.textContent = next.name;

    video.src = ex.video;
    video.currentTime = 0;
    video.play();
}

function updateTimer(){
    seconds--;
    if(seconds < 0){
        minute++;
        seconds = 60;
        loadExercise();
    }
    timer.textContent = `00:${seconds.toString().padStart(2,"0")}`;
}

function start(){
    if(interval) return;
    video.play();
    interval = setInterval(updateTimer,1000);
}

function pause(){
    clearInterval(interval);
    interval = null;
    video.pause();
}

function reset(){
    pause();
    minute = 0;
    seconds = 60;
    timer.textContent="01:00";
    loadExercise();
}

function skip(){
    seconds = 0;
}

video.addEventListener("ended",()=> {
    video.currentTime = 0;
    video.play();
});

loadExercise();
</script>
</body>
</html>
